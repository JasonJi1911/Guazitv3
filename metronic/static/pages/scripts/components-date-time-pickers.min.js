var ComponentsDateTimePickers = function() {
    var handleDatePickers = function() {
        if (!jQuery().datepicker) {
            return;
        }

        $(".date-picker").datepicker({
            format: 'yyyy-mm-dd',
            minView: "month",
            startView: "month",
            pickerPosition: 'top-bottom',
            autoclose: true,
            language: 'zh-CN',
            rtl: App.isRTL(),
            orientation: "left"
        });
    };

    var handleDateRangePickers = function() {
        if (!jQuery().daterangepicker) {
            return;
        }
        
        $(".daterange-picker").each(function(index, picker) {
            var $this  = $(picker),
                $date  = $this.find(':input:eq(0)'),
                $start = $this.find(':input:eq(1)'),
                $end   = $this.find(':input:eq(2)');

            $this.daterangepicker({
                opens: (App.isRTL() ? 'left' : 'right'),
                format: 'YYYY-MM-DD',
                separator: ' 到 ',
                startDate: $start.val() ? moment($start.val()) : moment().subtract(1, 'months'),
                endDate: $end.val() ? moment($end.val()) : moment(),
                minDate: $this.data('min-date'),
                maxDate: $this.data('max-date'),
            },
            function (start, end) {
                $date.val(start.format('YYYY-MM-DD') + ' 到 ' + end.format('YYYY-MM-DD'));
                $start.val(start.format('YYYY-MM-DD'));
                $end.val(end.format('YYYY-MM-DD'));
            });
        });
    };

    var handleDateTimePickers = function() {
        if (!jQuery().datetimepicker) {
            return;
        }

        $(".datetime-picker").datetimepicker({
            format: 'yyyy-mm-dd hh:ii:ss',
            pickerPosition: 'top-bottom',
            autoclose: true,
            language: 'zh-CN',
            rtl: App.isRTL(),
            orientation: "left",
            startDate: $(this).data('start-date'),
            endDate: $(this).data('end-date')
        });
    };

    return {
        init: function() {
            handleDatePickers();
            handleDateRangePickers();
            handleDateTimePickers();
        }
    }
} ();
App.isAngularJsApp() === !1 && jQuery(document).ready(function() {
    ComponentsDateTimePickers.init()
});
